<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://unpkg.com/@reactivex/rxjs@6.3.3/dist/global/rxjs.umd.js"></script>
</head>
<body>
<script>
  const { Observable } = rxjs;
  const { share }= rxjs.operators;

  const promise = new Promise(resolve => {
    console.log('Iniciando a promise');
    
    setTimeout(() => resolve(1), 3000);
  })

  const observer = Observable.create(observer => {
    console.log('Iniciando o observable');

    let i = 0;
    const interval = setInterval(() => {
      console.log('aki ', i);
      
      observer.next(i++)
    }, 1000);

    return () => clearInterval(interval);

  });

  promise.then(n => console.log('Promise', n));
  const subscriber = observer.subscribe(num => console.log('Observable', num));

  setTimeout(() => {
    subscriber.unsubscribe();
    console.log('Parei');
    
  },5000);

  // setTimeout(() => {
  //   promise.then(n => console.log('Promise', n));
  //   observer.subscribe(num => console.log('Observable', num));
  // }, 2000);

</script>  
</body>
</html>